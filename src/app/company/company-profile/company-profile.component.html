<div class="pcoded-content">
  <div class="pcoded-inner-content">
    <!-- Main-body start -->
    <div class="main-body">
      <div class="page-wrapper">

        <div class="page-body">
          <div class="row">

            <div class="col-xl-12 col-md-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-header-text">About Company</h5>
                  <button id="edit-btn" type="button" class="btn btn-sm btn-primary waves-effect waves-light f-right"
                    (click)="toggleUpdateProfile()">
                    <i class="icofont icofont-edit"></i>
                  </button>
                </div>
                <div class="card-block">
                  <div class="view-info" *ngIf="!isProfileEdit else profileEdit">
                    <div class="row">
                      <div class="col-lg-12">
                        <div class="general-info">
                          <div class="row">
                            <div class="col-lg-12 col-xl-6">
                              <div class="table-responsive">
                                <table class="table m-0">
                                  <tbody>
                                    <tr>
                                      <th scope="row">Business Name</th>
                                      <td>{{company.companyName}}</td>
                                    </tr>
                                    <tr>
                                      <th scope="row">Owner's First Name</th>
                                      <td>{{user.firstName}}</td>
                                    </tr>
                                    <tr>
                                      <th scope="row">Owner's Last Name</th>
                                      <td>{{user.lastName}}</td>
                                    </tr>
                                    <tr>
                                      <th scope="row">Primary Phone Number</th>
                                      <td>{{user.phones[0].phoneNumber}}</td>
                                    </tr>
                                    <tr *ngIf="user.phones.length > 1">
                                      <th scope="row">Secondary Phone Number</th>
                                      <td>{{user.phones[1].phoneNumber}}</td>
                                    </tr>
                                    <tr>
                                      <th scope="row">Primary Email Address</th>
                                      <td>{{user.emails[0].emailAddress}}</td>
                                    </tr>
                                    <tr *ngIf="user.emails.length > 1">
                                      <th scope="row">Secondary Email Address</th>
                                      <td>{{user.emails[1].emailAddress}}</td>
                                    </tr>
                                    <tr>
                                      <th scope="row">Business Address</th>
                                      <td>{{company.companyAddress}}, {{company.city}}, {{company.state}}</td>
                                    </tr>
                                    <tr>
                                      <th scope="row">Zip Code</th>
                                      <td>{{company.zip}}</td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                            <!-- end of table col-lg-6 -->

                            <!-- end of table col-lg-6 -->
                          </div>
                          <!-- end of row -->
                        </div>
                        <!-- end of general info -->
                      </div>
                      <!-- end of col-lg-12 -->
                    </div>
                    <!-- end of row -->
                  </div>
                  <!-- end of view-info -->
                  <ng-template #profileEdit>
                    <div class="edit-info">
                      <div class="row">
                        <div class="col-lg-12">
                          <form #profileForm="ngForm" (ngSubmit)="updateCompanyInfo()">
                            <div class="general-info j-forms">
                              <div class="row">
                                <div class="col-sm-12">
                                  <div class="alert alert-danger background-danger" *ngIf="companyName.dirty && companyName.errors?.required">Company
                                    name is required</div>
                                  <div class="alert alert-danger background-danger" *ngIf="firstName.dirty && firstName.errors?.required">First
                                    name is required</div>
                                  <div class="alert alert-danger background-danger" *ngIf="lastName.dirty && lastName.errors?.required">Last
                                    name is required</div>
                                  <div class="alert alert-danger background-danger" *ngIf="primaryNum.dirty && primaryNum.errors?.required">Primary
                                    Phone number is required</div>
                                  <div class="alert alert-danger background-danger" *ngIf="primaryNum.dirty && primaryNum.errors?.phone">Primary
                                    Phone number is not valid</div>
                                  <div class="alert alert-danger background-danger" *ngIf="primaryEmail.dirty && primaryEmail.errors?.required">Primary
                                    Email is required</div>
                                  <div class="alert alert-danger background-danger" *ngIf="primaryEmail.dirty && primaryEmail.errors?.email">Primary
                                    Email is invalid</div>
                                  <div class="alert alert-danger background-danger" *ngIf="companyAddress.dirty && companyAddress.errors?.required">Company
                                    address is required</div>
                                  <div class="alert alert-danger background-danger" *ngIf="city.dirty && city.errors?.required">City
                                    is required</div>
                                  <div class="alert alert-danger background-danger" *ngIf="zip.dirty && zip.errors?.required">Zip
                                    code is required</div>
                                  <div class="alert alert-danger background-danger" *ngIf="website.dirty && website.errors?.required">Website
                                    is required</div>
                                  <div class="alert alert-danger background-danger" *ngIf="errorMessage">{{errorMessage}}</div>
                                </div>
                                <div class="col-lg-12">
                                  <div class="unit">
                                    <div class="input">
                                      <input [ngClass]="{'form-control-danger': companyName.dirty && companyName.invalid}"
                                        [ngModelOptions]="{updateOn: 'blur'}" type="text" placeholder="Company Name"
                                        #companyName="ngModel" name="companyName" [(ngModel)]="company.companyName"
                                        required>
                                    </div>
                                  </div>
                                  <div class="j-row">
                                    <div class="span6 unit">
                                      <div class="input">
                                        <input [ngClass]="{'form-control-danger': firstName.dirty && firstName.invalid}"
                                          [ngModelOptions]="{updateOn: 'blur'}" type="text" placeholder="First Name"
                                          #firstName="ngModel" name="firstName" [(ngModel)]="user.firstName" required>
                                      </div>
                                    </div>
                                    <div class="span6 unit">
                                      <div class="input">
                                        <input [ngClass]="{'form-control-danger': firstName.dirty && firstName.invalid}"
                                          [ngModelOptions]="{updateOn: 'blur'}" type="text" placeholder="Last Name"
                                          #lastName="ngModel" name="lastName" [(ngModel)]="user.lastName" required>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="j-row">
                                    <div class="span6 unit">
                                      <div class="input">
                                        <input [ngClass]="{'form-control-danger': primaryNum.dirty && primaryNum.invalid}"
                                          [ngModelOptions]="{updateOn: 'blur'}" type="text" class="form-control" name="primaryNum"
                                          placeholder="Primary Phone Number" #primaryNum="ngModel" [(ngModel)]="user.phones[0].phoneNumber"
                                          required>
                                      </div>
                                    </div>
                                    <div class="span6 unit">
                                      <div class="input">
                                        <input type="text" class="form-control" name="secondaryNum" placeholder="Secondary Phone Number"
                                          [(ngModel)]="user.phones[1].phoneNumber">
                                      </div>
                                    </div>
                                  </div>
                                  <div class="j-row">
                                    <div class="span6 unit">
                                      <div class="input">
                                        <input [ngClass]="{'form-control-danger': primaryEmail.dirty && primaryEmail.invalid}"
                                          [ngModelOptions]="{updateOn: 'blur'}" type="email" name="primaryEmail"
                                          #primaryEmail="ngModel" placeholder="Primary Email Address" [(ngModel)]="user.emails[0].emailAddress"
                                          required>
                                      </div>
                                    </div>
                                    <div class="span6 unit">
                                      <div class="input">
                                        <input type="email" id="secondaryEmail" name="secondaryEmail" placeholder="Secondary Email Address"
                                          [(ngModel)]="user.emails[1].emailAddress">
                                      </div>
                                    </div>
                                  </div>
                                  <div class="unit">
                                    <div class="input">
                                      <input [ngClass]="{'form-control-danger': companyAddress.dirty && companyAddress.invalid}"
                                        [ngModelOptions]="{updateOn: 'blur'}" type="text" placeholder="Company Address"
                                        #companyAddress="ngModel" name="companyAddress" [(ngModel)]="company.companyAddress"
                                        required>
                                    </div>
                                  </div>
                                  <div class="unit">
                                    <div class="input">
                                      <input [ngClass]="{'form-control-danger': city.dirty && city.invalid}"
                                        [ngModelOptions]="{updateOn: 'blur'}" type="text" placeholder="City" #city="ngModel"
                                        name="city" [(ngModel)]="company.city" required>
                                    </div>
                                  </div>
                                  <div class="unit">
                                    <div class="input">
                                      <select name="state" name="state" [(ngModel)]="company.state">
                                        <option *ngFor="let state of stateArray;" value="{{state.abbr}}">{{state.name}}</option>
                                      </select>
                                    </div>
                                  </div>
                                  <div class="unit">
                                    <div class="input">
                                      <input [ngClass]="{'form-control-danger': zip.dirty && zip.invalid}"
                                        [ngModelOptions]="{updateOn: 'blur'}" type="text" placeholder="Zip Code" #zip="ngModel"
                                        name="zip" [(ngModel)]="company.zip" required>
                                    </div>
                                  </div>
                                  <div class="unit">
                                    <div class="input">
                                      <input [ngClass]="{'form-control-danger': website.dirty && website.invalid}"
                                        [ngModelOptions]="{updateOn: 'blur'}" type="text" placeholder="Website"
                                        #website="ngModel" name="website" [(ngModel)]="company.website" required>
                                    </div>
                                  </div>
                                  <!-- end name email -->
                                  <!-- start password -->
                                  <div class="j-row">
                                    <div class="span6 unit">
                                      <div class="input">
                                        <input [ngClass]="{'form-control-danger': errorMessage}" type="password" name="password"
                                          placeholder="Password" [(ngModel)]="user.password">
                                      </div>
                                    </div>
                                    <div class="span6 unit">
                                      <div class="input">
                                        <input [ngClass]="{'form-control-danger': errorMessage}" type="password" name="confirmPassword"
                                          placeholder="Confirm Password" [(ngModel)]="user.confirmPassword">
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <!-- end of table col-lg-6 -->

                                <!-- end of table col-lg-6 -->
                              </div>
                              <!-- end of row -->
                              <div class="text-center">
                                <button type="submit" class="btn btn-primary waves-effect waves-light m-r-20"
                                  [disabled]="!profileForm.form.valid || loading">Save</button>
                                <a href="javascript:" class="btn btn-default waves-effect" (click)="toggleUpdateProfile()">Cancel</a>
                              </div>
                            </div>
                          </form>
                          <!-- end of edit info -->
                        </div>
                        <!-- end of col-lg-12 -->
                      </div>
                      <!-- end of row -->
                    </div>
                  </ng-template>
                  <!-- end of edit-info -->
                </div>
                <!-- end of card-block -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>